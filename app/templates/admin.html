{% extends "base.html" %}
{% block content %}
    <div class="table-header">
        <button class="stat-tab-selected">Total Requests: {{ requests }}</button>
    </div>
    <div class="table-wrapper">
      <div class="search-box">
         <label for="search">Search:</label>
         <input type="text" id="search" class="form-control">
      </div>
      <table id="table">
         <thead>
            <tr>
               <th class="filterable" style="text-align: left">User</th>
               <th class="filterable" style="text-align: left">Team</th>
               <th class="filterable" style="text-align: left">Year</th>
               <th class="filterable" style="text-align: left">Request Time</th>
            </tr>
         </thead>
         <tbody>
            {% for user in users %}
            <tr>
               <td><b>{{ user[0] }}</b></td>
               <td>{{ user[1] }}</td>
               <td>{{ user[2] }}</td>
               <td>{{ user[3] }}</td>
            </tr>
            {% endfor %}
         </tbody>
      </table>
   </div>
   <script>
     $(document).ready(function() {
         var table = $('#table').DataTable();

         $('#search').on('keyup', function() {
            table.search($(this).val()).draw();
         });
      });
   </script>
{% endblock %}
